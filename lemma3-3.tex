\documentclass[letterpaper]{article}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amssymb}
\usepackage{amsthm}

\newtheorem*{lemma}{Lemma}

\newcommand{\aln}[1]{\begin{align*} #1 \end{align*}} %fast align
\newcommand{\fitp}[1]{\left( #1 \right)} %fit parentheses

\title{Proof of Lemma 3.3 Using $S$-Polynomials}
\author{Max Comstock}
\date{June 16, 2014}

\begin{document}

\maketitle

\section{Directed Case}
\begin{lemma}
  The cycle encoding polynomials $F = \{g_1, \ldots, g_k\}$, where
  \aln{
    g_i = \left\{\begin{array}{ll} x_{v_{k-i}} - \omega^{k-i} x_{v_k} & i = 1,\ldots,k-1,\\
                                x_{v_k}^k - 1 & i = k \end{array} \right.,
  }
  are a reduced Gr\"obner basis for the cycle ideal $H_{G,C}$ with respect to any term order $\prec$ with $x_{v_k} \prec \cdots \prec x_{v_1}$.
\end{lemma}
\noindent \textit{Proof.} We will show that every combination of $g_i$ satisfies Buchberger's Criterion. First, we will consider arbitrary $n' < k$ and $m' < k$, corresponding to $n$ and $m$ such that $n = k - n'$ and $m = k - m'$. Then we find
\aln{
  g_{n'} &= x_n - \omega^n x_k\\
  g_{m'} &= x_m - \omega^m x_k.
}
Suppose, without loss of generality, that $n < m$. Taking the $S$-polynomial, we find
\aln{
  S(g_{n'}, g_{m'}) &= \frac{x_n x_m}{x_n} g_{n'} - \frac{x_n x_m}{x_m} g_{m'}\\
  &= x_m g_{n'} - x_n g_{m'}\\
  &= x_m (x_n - \omega^n x_k) - x_n (x_m - \omega^m x_k)\\
  &= x_n x_m - \omega^n x_m x_k - (x_n x_m - \omega^m x_n x_k)\\
  &= \omega^m x_n x_k - \omega^n x_m x_k.
}
Using the division algorithm, we find
\aln{
  S(g_{n'}, g_{m'}) = \omega^m x_n x_k - \omega^n x_m x_k = \omega^m x_k g_{n'} - \omega^n x_k g_{m'}.
}
The only remaining case is an $S$-polynomial including $g_k$. Then we find
\aln{
  S(g_{n'}, g_k) &= \frac{x_n x_k^k}{x_n} g_{n'} - \frac{x_n x_k^k}{x_k^k} g_k\\
  &= x_k^k g_{n'} - x_n g_k\\
  &= x_k^k (x_n - \omega^n x_k) - x_n (x_k^k - 1)\\
  &= x_n x_k^k - \omega^n x_k^{k+1} - (x_n x_k^k - x_n)\\
  &= x_n - \omega^n x_k^{k+1}.
}
Using the division algorithm here, we find
\aln{
  S(g_{n'}, g_k) = x_n - \omega^n x_k^{k+1} = g_{n'} - \omega^n x_k g_k.
}
Hence $F$ is a Gr\"obner basis for the cycle ideal $H_{G,C}$. The fact that $F$ is a reduced Gr\"obner basis follows from inspection of $F$.


\section{Undirected Case}
\begin{lemma}
  The cycle encoding polynomials $F = \{g_1, \ldots, g_k\}$, where
  \aln{
    g_i = \left\{\begin{array}{ll} x_{v_i} + \frac{\omega^{2+i} - \omega^{2-i}}{\omega^3 - \omega} x_{v_{k-1}} + \frac{\omega^{1-i} - \omega^{3+i}}{\omega^3 - \omega} x_{v_k} & i = 1,\ldots,k-2,\\
                                (x_{v_{k-1}} - \omega x_{v_k}) (x_{v_{k-1}} - \omega^{-1} x_{v_k}) & i = k-1\\
                                x_{v_k}^k - 1 & i = k \end{array} \right.,
  }
  are a reduced Gr\"obner basis for the cycle ideal $H_{G,C}$ with respect to any term order $\prec$ with $x_{v_k} \prec \cdots \prec x_{v_1}$.
\end{lemma}
\noindent \textit{Proof.} We will use the same method as before to show that the set $F$ satisfies Buchberger's Criterion. We will begin by choosing $n$ and $m$, where $0 < n < m < k-1$. Then we find
\aln{
  g_n &= x_n + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3-\omega} x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k\\
  g_m &= x_m + \frac{\omega^{2+m} - \omega^{2-m}}{\omega^3-\omega} x_{k-1} + \frac{\omega^{1-m} - \omega^{3+m}}{\omega^3 - \omega} x_k.
}
The resulting $S$-polynomial is
\aln{
  S(g_n, g_m) &= \frac{x_n x_m}{x_n} g_n - \frac{x_n x_m}{x_m} g_m\\
  &= x_m g_n - x_n g_m\\
  &= x_m \fitp{x_n + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3-\omega} x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k}\\&~~~~ - x_n \fitp{x_m + \frac{\omega^{2+m} - \omega^{2-m}}{\omega^3-\omega} x_{k-1} + \frac{\omega^{1-m} - \omega^{3+m}}{\omega^3 - \omega} x_k}\\
  &= x_n x_m + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3-\omega} x_m x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_m x_k\\&~~~~ - \fitp{x_n x_m + \frac{\omega^{2+m} - \omega^{2-m}}{\omega^3-\omega} x_n x_{k-1} + \frac{\omega^{1-m} - \omega^{3+m}}{\omega^3 - \omega} x_n x_k}\\
  &= - \frac{\omega^{2+m} - \omega^{2-m}}{\omega^3-\omega} x_n x_{k-1} - \frac{\omega^{1-m} - \omega^{3+m}}{\omega^3 - \omega} x_n x_k + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3-\omega} x_m x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_m x_k.
}
Using the division algorithm, we find
\aln{
  S(g_n, g_m) = -\fitp{\frac{\omega^{2+m} - \omega^{2-m}}{\omega^3-\omega} x_{k-1} + \frac{\omega^{1-m} - \omega^{3+m}}{\omega^3 - \omega} x_k} g_n + \fitp{\frac{\omega^{2+n} - \omega^{2-n}}{\omega^3-\omega} x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k} g_m.
}
Next, we will consider the case where $m = k-1$. Then we have the $S$-polynomial
\aln{
  S(g_n, g_{k-1}) &= \frac{x_n x_{k-1}^2}{x_n} g_n - \frac{x_n x_{k-1}^2}{x_{k-1}^2} g_{k-1}\\
  &= x_{k-1}^2 g_n - x_n g_{k-1}\\
  &= x_{k-1}^2 \fitp{x_n + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k} - x_n \fitp{x_{k-1}^2 - (\omega + \omega^{-1}) x_{k-1} x_k + x_k^2}\\
  &= x_n x_{k-1}^2 + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1}^3 + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_{k-1}^2 x_k\\&~~~~ - \fitp{x_n x_{k-1}^2 - (\omega + \omega^{-1}) x_n x_{k-1} x_k + x_n x_k^2}\\
  &= (\omega + \omega^{-1}) x_n x_{k-1} x_k - x_n x_k^2 + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1}^3 + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_{k-1}^2 x_k.
}
Using the division algorithm, we find
\aln{
  S(g_n, g_{k-1}) = \fitp{(\omega + \omega^{-1}) x_{k-1} x_k - x_k^2} g_n + \fitp{\frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k} g_{k-1}.
}
The next possibility is that $m = k$. Then we find
\aln{
  S(g_n, g_k) &= \frac{x_n x_k^k}{x_n} g_n - \frac{x_n x_k^k}{x_k^k} g_k\\
  &= x_k^k g_n - x_n g_k\\
  &= x_k^k \fitp{x_n + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k} - x_n (x_k^k - 1)\\
  &= x_n x_k^k + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1} x_k^k + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k^{k+1} - (x_n x_k^k - x_n)\\
  &= x_n + \frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1} x_k^k + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k^{k+1}.
}
The division algorithm allows us to write
\aln{
  S(g_n, g_k) = g_n + \fitp{\frac{\omega^{2+n} - \omega^{2-n}}{\omega^3 - \omega} x_{k-1} + \frac{\omega^{1-n} - \omega^{3+n}}{\omega^3 - \omega} x_k} g_k.
}
The only remaining case is where $n = k - 1$ and $m = k$. This produces the $S$-polynomial
\aln{
  S(g_{k-1}, g_k) &= \frac{x_{k-1}^2 x_k^k}{x_{k-1}^2} g_{k-1} - \frac{x_{k-1}^2 x_k^k}{x_k^k} g_k\\
  &= x_k^k g_{k-1} - x_{k-1}^2 g_k\\
  &= x_k^k \fitp{x_{k-1}^2 - (\omega + \omega^{-1}) x_{k-1} x_k + x_k^2} - x_{k-1}^2 (x_k^k - 1)\\
  &= x_{k-1}^2 x_k^k - (\omega + \omega^{-1}) x_{k-1} x_k^{k+1} + x_k^{k+2} - (x_{k-1}^2 x_k^k - x_{k-1}^2)\\
  &= x_{k-1}^2 - (\omega + \omega^{-1}) x_{k-1} x_k^{k+1} + x_k^{k+2}.
}
From the division algorithm, we find
\aln{
  S(g_{k-1}, g_k) = g_{k-1} - \fitp{(\omega + \omega^{-1}) x_{k-1} x_k - x_k^2} g_k.
}
Hence $F$ is a Gr\"obner basis for the cycle ideal $H_{G,C}$. The fact that $F$ is a reduced Gr\"obner basis follows from inspection of $F$.



\end{document}
